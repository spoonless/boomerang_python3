

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="David Gayerie" name="author" />
<meta content="Python 3 - Les fondamentaux du langage" name="description" />
<meta content="Python, programmation objet, POO, langage de programmation" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Itérateurs et Générateurs &mdash; Documentation Boomerang Consulting - Python 3 </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_rtd_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Gestion des fichiers" href="fichier.html" />
    <link rel="prev" title="Les méthodes spéciales (dunders)" href="dunder.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Boomerang Consulting - Python 3
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Recherche dans les pages" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Python 3</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#python-2-et-python-3">Python 2 et Python 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#licence-logiciel">Licence logiciel</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#les-principales-caracteristiques-du-langage">Les principales caractéristiques du langage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="introduction.html#oriente-objet">Orienté objet</a></li>
<li class="toctree-l3"><a class="reference internal" href="introduction.html#courbe-d-apprentissage-lineaire">Courbe d’apprentissage linéaire</a></li>
<li class="toctree-l3"><a class="reference internal" href="introduction.html#compile-et-interprete">Compilé et interprété</a></li>
<li class="toctree-l3"><a class="reference internal" href="introduction.html#typage-dynamique">Typage dynamique</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#les-domaines-d-application">Les domaines d’application</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#les-differentes-implementations-de-python">Les différentes implémentations de Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#communaute-et-organisation">Communauté et organisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">Console et exécution de fichiers source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="execution.html#la-console">La console</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html#les-fichiers-sources">Les fichiers sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html#lancement-en-mode-interactif">Lancement en mode interactif</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html#lancement-d-un-programme-hors-de-la-console">Lancement d’un programme hors de la console</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html#notion-de-bloc-et-d-indentation">Notion de bloc et d’indentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html#les-commentaires">Les commentaires</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="type_et_variable.html">Types et variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="type_et_variable.html#nombres-et-calcul-arithmetique">Nombres et calcul arithmétique</a></li>
<li class="toctree-l2"><a class="reference internal" href="type_et_variable.html#les-variables">Les variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="type_et_variable.html#la-chaine-de-caracteres">La chaîne de caractères</a><ul>
<li class="toctree-l3"><a class="reference internal" href="type_et_variable.html#formatage-de-chaine-de-caracteres">Formatage de chaîne de caractères</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="type_et_variable.html#le-type-booleen">Le type booléen</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fonction.html">Les fonctions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#appeler-une-fonction">Appeler une fonction</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#les-fonctions-utiles-dans-la-console-python">Les fonctions utiles dans la console Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#les-fonctions-de-conversion-de-type">Les fonctions de conversion de type</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fonction.html#convertir-en-nombre">Convertir en nombre</a></li>
<li class="toctree-l3"><a class="reference internal" href="fonction.html#convertir-en-valeur-booleenne">Convertir en valeur booléenne</a></li>
<li class="toctree-l3"><a class="reference internal" href="fonction.html#convertir-en-chaine-de-caracteres">Convertir en chaîne de caractères</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#exercices">Exercices</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#declarer-une-fonction">Déclarer une fonction</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#documenter-une-fonction">Documenter une fonction</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#les-valeurs-de-retour">Les valeurs de retour</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#les-parametres-nommes">Les paramètres nommés</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#valeur-par-defaut-des-parametres">Valeur par défaut des paramètres</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#fonction-et-portee-des-variables">Fonction et portée des variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#id1">Exercices</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#variable-globale-et-fonction">Variable globale et fonction</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction.html#notion-de-methode">Notion de méthode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="list.html">La liste (<em>list</em>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="list.html#creer-une-liste">Créer une liste</a></li>
<li class="toctree-l2"><a class="reference internal" href="list.html#acceder-aux-elements">Accéder aux éléments</a></li>
<li class="toctree-l2"><a class="reference internal" href="list.html#les-operations-sur-les-listes">Les opérations sur les listes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="list.html#connaitre-la-taille-d-une-liste">Connaître la taille d’une liste</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#supprimer-un-element-d-une-liste">Supprimer un élément d’une liste</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#ajouter-deux-listes-ensemble">Ajouter deux listes ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#creer-une-liste-etendue">Créer une liste étendue</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#savoir-si-un-element-est-present-dans-une-liste">Savoir si un élément est présent dans une liste</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#comparer-deux-listes">Comparer deux listes</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#connaitre-le-plus-grand-element-d-une-liste">Connaître le plus grand élément d’une liste</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#connaitre-le-plus-petit-element-d-une-liste">Connaître le plus petit élément d’une liste</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#decouper-une-liste">Découper une liste</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html#copier-une-liste">Copier une liste</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="list.html#quelques-methodes-pour-les-listes">Quelques méthodes pour les listes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tuple.html">Le n-uplet (<em>tuple</em>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tuple.html#creer-un-tuple">Créer un tuple</a></li>
<li class="toctree-l2"><a class="reference internal" href="tuple.html#acceder-aux-elements">Accéder aux éléments</a></li>
<li class="toctree-l2"><a class="reference internal" href="tuple.html#les-operations-sur-les-tuples">Les opérations sur les tuples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#connaitre-la-taille-d-un-tuple">Connaître la taille d’un tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#ajouter-deux-tuples-ensemble">Ajouter deux tuples ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#creer-un-tuple-etendu">Créer un tuple étendu</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#savoir-si-un-element-est-present-dans-un-tuple">Savoir si un élément est présent dans un tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#comparer-deux-tuples">Comparer deux tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#connaitre-le-plus-grand-element-d-un-tuple">Connaître le plus grand élément d’un tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#connaitre-le-plus-petit-element-d-une-tuple">Connaître le plus petit élément d’une tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#decouper-un-tuple">Découper un tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuple.html#compter-les-occurrences-dans-un-tuple">Compter les occurrences dans un tuple</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tuple.html#listes-et-tuples">Listes et tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="tuple.html#les-chaines-de-caracteres-comme-tuple">Les chaînes de caractères comme tuple</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="set.html">L’ensemble (<em>set</em>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="set.html#creer-un-ensemble">Créer un ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="set.html#acceder-aux-elements">Accéder aux éléments</a></li>
<li class="toctree-l2"><a class="reference internal" href="set.html#les-operations-sur-les-ensembles">Les opérations sur les ensembles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="set.html#connaitre-la-taille-d-un-ensemble">Connaître la taille d’un ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="set.html#savoir-si-un-element-est-present-dans-un-ensemble">Savoir si un élément est présent dans un ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="set.html#comparer-deux-ensembles">Comparer deux ensembles</a></li>
<li class="toctree-l3"><a class="reference internal" href="set.html#connaitre-le-plus-grand-element-d-un-ensemble">Connaître le plus grand élément d’un ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="set.html#connaitre-le-plus-petit-element-d-un-ensemble">Connaître le plus petit élément d’un ensemble</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="set.html#quelques-methodes-pour-les-ensembles">Quelques méthodes pour les ensembles</a></li>
<li class="toctree-l2"><a class="reference internal" href="set.html#ensemble-liste-et-tuple">Ensemble, liste et tuple</a></li>
<li class="toctree-l2"><a class="reference internal" href="set.html#ensemble-fige">Ensemble figé</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dict.html">Le dictionnaire</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dict.html#creer-un-dictionnaire">Créer un dictionnaire</a></li>
<li class="toctree-l2"><a class="reference internal" href="dict.html#acceder-aux-elements">Accéder aux éléments</a></li>
<li class="toctree-l2"><a class="reference internal" href="dict.html#les-operations-sur-les-dictionnaires">Les opérations sur les dictionnaires</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dict.html#connaitre-la-taille-d-un-dictionnaire">Connaître la taille d’un dictionnaire</a></li>
<li class="toctree-l3"><a class="reference internal" href="dict.html#supprimer-une-cle-d-un-dictionnaire">Supprimer une clé d’un dictionnaire</a></li>
<li class="toctree-l3"><a class="reference internal" href="dict.html#savoir-si-une-cle-est-presente-dans-un-dictionnaire">Savoir si une clé est présente dans un dictionnaire</a></li>
<li class="toctree-l3"><a class="reference internal" href="dict.html#comparer-deux-dictionnaires">Comparer deux dictionnaires</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dict.html#quelques-methodes-pour-les-dictionnaires">Quelques méthodes pour les dictionnaires</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="structures_de_controle.html">Les structures de contrôle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="structures_de_controle.html#l-indentation-du-code">L’indentation du code</a></li>
<li class="toctree-l2"><a class="reference internal" href="structures_de_controle.html#structures-de-decision">Structures de décision</a><ul>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#l-instruction-if">L’instruction <em>if</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#l-instruction-else">L’instruction <em>else</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#l-instruction-elif">L’instruction <em>elif</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#l-operateur-ternaire">L’opérateur ternaire</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="structures_de_controle.html#exercice">Exercice</a></li>
<li class="toctree-l2"><a class="reference internal" href="structures_de_controle.html#structures-iteratives">Structures itératives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#l-instruction-while">L’instruction <em>while</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#l-instruction-for">L’instruction <em>for</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#la-fonction-range">La fonction <em>range</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#interrompre-un-bloc-d-iteration">Interrompre un bloc d’itération</a></li>
<li class="toctree-l3"><a class="reference internal" href="structures_de_controle.html#structure-iterative-avec-else">Structure itérative avec <em>else</em></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="structures_de_controle.html#id1">Exercice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fonction_avance.html">Les fonctions (notions avancées)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fonction_avance.html#decompactage-des-parametres">décompactage des paramètres</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction_avance.html#compactage-des-parametres">compactage des paramètres</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction_avance.html#appel-recursif-de-fonction">Appel récursif de fonction</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction_avance.html#declaration-de-fonction-dans-une-fonction">Déclaration de fonction dans une fonction</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction_avance.html#la-fonction-comme-type-python">La fonction comme type Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="fonction_avance.html#les-fonctions-anonymes-lambdas">Les fonctions anonymes (lambdas)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="list_comprehension.html">Liste en compréhension</a><ul>
<li class="toctree-l2"><a class="reference internal" href="list_comprehension.html#dictionnaire-en-comprehension">Dictionnaire en compréhension</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module.html">Les modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="module.html#le-module-pour-prevenir-la-collision-de-nom">Le module pour prévenir la collision de nom</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#la-bibliotheque-standard-python">La bibliothèque standard Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#importer-un-module">Importer un module</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#importer-directement-un-nom">Importer directement un nom</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#creer-un-module-a-partir-d-un-fichier">Créer un module à partir d’un fichier</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#module-executable">Module exécutable</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#creer-un-module-a-partir-d-un-repertoire">Créer un module à partir d’un répertoire</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#module-repertoire-executable">Module répertoire exécutable</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#chemin-des-modules">Chemin des modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html#les-packages">Les <em>packages</em></a><ul>
<li class="toctree-l3"><a class="reference internal" href="module.html#import-relatif">Import relatif</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="decorateur.html">Les décorateurs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="decorateur.html#un-premier-decorateur">Un premier décorateur</a></li>
<li class="toctree-l2"><a class="reference internal" href="decorateur.html#decorer-des-fonctions-avec-des-parametres-et-des-valeurs-de-retour">Décorer des fonctions avec des paramètres et des valeurs de retour</a></li>
<li class="toctree-l2"><a class="reference internal" href="decorateur.html#decorateur-avec-des-parametres">Décorateur avec des paramètres</a></li>
<li class="toctree-l2"><a class="reference internal" href="decorateur.html#conserver-la-documentation-malgre-l-utilisation-d-un-decorateur">Conserver la documentation malgré l’utilisation d’un décorateur</a></li>
<li class="toctree-l2"><a class="reference internal" href="decorateur.html#appliquer-plusieurs-decorateurs">Appliquer plusieurs décorateurs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="objet.html">La programmation orientée objet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="objet.html#la-classe-et-les-instances">La classe et les instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#les-attributs">Les attributs</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#les-attributs-implicites">Les attributs implicites</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#les-methodes">Les méthodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#le-constructeur">Le constructeur</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#les-proprietes">Les propriétés</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#les-attributs-de-classe">Les attributs de classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#methodes-de-classe">Méthodes de classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#methodes-statiques">Méthodes statiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#visibilite-des-attributs-et-des-methodes">Visibilité des attributs et des méthodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#fermer-la-liste-des-attributs">Fermer la liste des attributs</a></li>
<li class="toctree-l2"><a class="reference internal" href="objet.html#creer-des-objets-avec-des-attributs-constants">Créer des objets avec des attributs constants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="heritage.html">Héritage et polymorphisme</a><ul>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#l-heritage">L’héritage</a></li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#constructeur-et-heritage">Constructeur et héritage</a></li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#heritage-et-mutualisation-de-code">Héritage et mutualisation de code</a></li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#la-classe-object">La classe <em>object</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#le-polymorphisme">Le polymorphisme</a></li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#polymorphisme-et-duck-typing">Polymorphisme et <em>duck typing</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#masquer-les-attributs-et-les-methodes-pour-les-classe-filles">Masquer les attributs et les méthodes pour les classe filles</a></li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#heritage-multiple-et-mixin">Héritage multiple et <em>mixin</em></a><ul>
<li class="toctree-l3"><a class="reference internal" href="heritage.html#l-heritage-en-diamant">L’héritage en diamant</a></li>
<li class="toctree-l3"><a class="reference internal" href="heritage.html#appel-des-constructeurs">Appel des constructeurs</a></li>
<li class="toctree-l3"><a class="reference internal" href="heritage.html#les-mixins">Les mixins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#la-meta-classe">La méta-classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="heritage.html#classes-et-methodes-abstraites">Classes et méthodes abstraites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="exception.html">Les exceptions et la gestion des erreurs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="exception.html#traiter-une-exception">Traiter une exception</a><ul>
<li class="toctree-l3"><a class="reference internal" href="exception.html#recuperer-les-donnees-d-une-exception">Récupérer les données d’une exception</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="exception.html#clause-else">Clause <em>else</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="exception.html#post-traitement">Post-traitement</a></li>
<li class="toctree-l2"><a class="reference internal" href="exception.html#lever-une-exception">Lever une exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="exception.html#creer-son-exception">Créer son exception</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dunder.html">Les méthodes spéciales (<em>dunders</em>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#methodes-speciales-elementaires">Méthodes spéciales élémentaires</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#methodes-speciales-pour-les-conversions">Méthodes spéciales pour les conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#methodes-speciales-pour-les-operateurs-unaires">Méthodes spéciales pour les opérateurs unaires</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#methodes-speciales-pour-les-operations-arithmetiques">Méthodes spéciales pour les opérations arithmétiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#methodes-speciales-pour-la-comparaison">Méthodes spéciales pour la comparaison</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#methodes-speciales-pour-les-conteneurs">Méthodes spéciales pour les conteneurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#tout-est-objet">Tout est objet !</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#les-fonctions-comme-objet">Les fonctions comme objet</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#les-classes-comme-objet">Les classes comme objet</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#et-bien-d-autres-methodes-speciales">Et bien d’autres méthodes spéciales…</a></li>
<li class="toctree-l2"><a class="reference internal" href="dunder.html#methodes-speciales-et-classes-abstraites">Méthodes spéciales et classes abstraites</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Itérateurs et Générateurs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#les-iterateurs">Les itérateurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#les-fonctions-iter-et-next">Les fonctions iter() et next()</a></li>
<li class="toctree-l2"><a class="reference internal" href="#les-generateurs">Les générateurs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#les-fonctions-generatrices-avec-yield">Les fonctions génératrices avec <em>yield</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#les-generateurs-en-comprehension">Les générateurs en compréhension</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#les-fonctions-enumerate-map-zip-filter">Les fonctions <em>enumerate</em>, <em>map</em>, <em>zip</em>, <em>filter</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="#le-module-itertools">Le module <em>itertools</em></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fichier.html">Gestion des fichiers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fichier.html#ouvrir-et-fermer-un-fichier">Ouvrir et fermer un fichier</a></li>
<li class="toctree-l2"><a class="reference internal" href="fichier.html#lire-le-contenu-d-un-fichier">Lire le contenu d’un fichier</a></li>
<li class="toctree-l2"><a class="reference internal" href="fichier.html#les-modes-de-fichier">Les modes de fichier</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#specificite-du-mode-texte">Spécificité du mode texte</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fichier.html#ecrire-dans-un-fichier">Écrire dans un fichier</a></li>
<li class="toctree-l2"><a class="reference internal" href="fichier.html#chemin-de-fichier">Chemin de fichier</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#le-module-os-path">Le module <em>os.path</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#le-module-pathlib">Le module <em>pathlib</em></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fichier.html#actions-sur-les-fichiers-et-les-repertoires">Actions sur les fichiers et les répertoires</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#connaitre-le-repertoire-de-travail">Connaître le répertoire de travail</a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#connaitre-le-repertoire-de-l-utilisateur">Connaître le répertoire de l’utilisateur</a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#copier-un-fichier">Copier un fichier</a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#supprimer-un-fichier">Supprimer un fichier</a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#creer-un-repertoire">Créer un répertoire</a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#supprimer-un-repertoire">Supprimer un répertoire</a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#verifier-qu-un-fichier-existe">Vérifier qu’un fichier existe</a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#lister-le-contenu-d-un-repertoire">Lister le contenu d’un répertoire</a></li>
<li class="toctree-l3"><a class="reference internal" href="fichier.html#rechercher-des-fichiers">Rechercher des fichiers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fichier.html#lecture-de-fichiers-csv">Lecture de fichiers CSV</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="unittest.html">Les tests unitaires automatisés avec unittest</a><ul>
<li class="toctree-l2"><a class="reference internal" href="unittest.html#structure-d-une-classe-de-test">Structure d’une classe de test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="unittest.html#execution-des-tests">Exécution des tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="unittest.html#tester-des-exceptions">Tester des exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="unittest.html#utilisation-de-doublure">Utilisation de doublure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="unittest.html#utilisation-d-un-objet-mock">Utilisation d’un objet <em>mock</em></a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Boomerang Consulting - Python 3</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Accueil</a> &raquo;</li>
        
      <li>Itérateurs et Générateurs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="fichier.html" class="btn btn-neutral float-right" title="Gestion des fichiers" accesskey="n">Suivant <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dunder.html" class="btn btn-neutral" title="Les méthodes spéciales (dunders)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Précédent</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="iterateurs-et-generateurs">
<h1>Itérateurs et Générateurs<a class="headerlink" href="#iterateurs-et-generateurs" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="les-iterateurs">
<h2>Les itérateurs<a class="headerlink" href="#les-iterateurs" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un itérateur permet de parcourir une séquence d’éléments. Les collections en Python
comme les listes, les ensembles, les tuples, les dictionnaires et même les chaînes
de caractères peuvent se comporter comme des itérateurs et être utilisés par
exemple dans une expression <a class="reference external" href="https://docs.python.org/3.6/reference/compound_stmts.html#for" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">for</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ma_liste</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Pomme&quot;</span><span class="p">,</span> <span class="s2">&quot;Poire&quot;</span><span class="p">,</span> <span class="s2">&quot;Orange&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">ma_liste</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p>Il est possible pour n’importe quel objet de se comporter comment un itérateur.
Pour cela, il suffit qu’il implémente les méthodes spéciales <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#iterator.__iter__" title="(disponible dans Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a>
et <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#iterator.__next__" title="(disponible dans Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__next__()</span></code></a>.</p>
<dl class="simple">
<dt><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#iterator.__iter__" title="(disponible dans Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a></dt><dd><p>Retourne un objet qui sert d’itérateur. Un itérateur doit lui-même avoir
une méthode <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#iterator.__iter__" title="(disponible dans Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a> qui peut se limiter à retourner l’itérateur
lui-même.</p>
</dd>
<dt><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#iterator.__next__" title="(disponible dans Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__next__()</span></code></a></dt><dd><p>Retourne l’élément suivant. S’il n’y a plus d’élément, alors cette méthode
doit lever une exception de type <a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#StopIteration" title="(disponible dans Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">StopIteration</span></code></a>.</p>
</dd>
</dl>
<p>Ci-dessous un exemple d’itérateur qui permet de compter jusqu’à 10 :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Compteur</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span>
</pre></div>
</div>
<p>Il est possible d’utiliser la classe <code class="docutils literal notranslate"><span class="pre">Compteur</span></code> dans une expression <a class="reference external" href="https://docs.python.org/3.6/reference/compound_stmts.html#for" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">for</span></code></a> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Compteur</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="c1"># Affiche les nombres de 1 à 10.</span>
</pre></div>
</div>
</div>
<div class="section" id="les-fonctions-iter-et-next">
<h2>Les fonctions iter() et next()<a class="headerlink" href="#les-fonctions-iter-et-next" title="Lien permanent vers ce titre">¶</a></h2>
<p>La fonction <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#iter" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">iter()</span></code></a> permet d’obtenir un itérateur à partir d’un objet.
Concrètement, cette fonction appelle la méthode <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#iterator.__iter__" title="(disponible dans Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a> de
l’objet passé en paramètre.</p>
<p>La fonction <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#next" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">next()</span></code></a> attend un itérateur en paramètre et retourne l’élément
suivant. Si l’itérateur est déjà positionné sur le dernier élément, cette fonction
lève une exception de type <a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#StopIteration" title="(disponible dans Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">StopIteration</span></code></a>. Concrètement, cette fonction appelle la
méthode <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#iterator.__next__" title="(disponible dans Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__next__()</span></code></a> de l’itérateur passé en paramètre.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="k">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">))</span>
<span class="c1"># affiche 0</span>
<span class="k">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">))</span>
<span class="c1"># affiche 1</span>
<span class="k">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">))</span>
<span class="c1"># affiche 2</span>
<span class="k">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">))</span>
<span class="c1"># provoque une exception StopIteration</span>
</pre></div>
</div>
<p>Les méthodes <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#iter" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">iter()</span></code></a> et <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#next" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">next()</span></code></a> permettent d’interagir directement
avec un itérateur. Cependant on utilise la plupart du temps un itérateur dans
une expression <a class="reference external" href="https://docs.python.org/3.6/reference/compound_stmts.html#for" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">for</span></code></a> ou avec le mot-clé <a class="reference external" href="https://docs.python.org/3.6/reference/expressions.html#in" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">in</span></code></a>.</p>
<p>Si vous voulez rendre un objet itérable, vous pouvez simplement implémenter
la méthode <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#iterator.__iter__" title="(disponible dans Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a> dans votre classe de manière à ce qu’elle
retourne le résultat d’un appel à la fonction <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#iter" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">iter()</span></code></a> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Chemin</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">gauche</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;gauche&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">droite</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;droite&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">)</span>


<span class="n">chemin</span> <span class="o">=</span> <span class="n">Chemin</span><span class="p">()</span>
<span class="n">chemin</span><span class="o">.</span><span class="n">droite</span><span class="p">()</span>
<span class="n">chemin</span><span class="o">.</span><span class="n">gauche</span><span class="p">()</span>
<span class="n">chemin</span><span class="o">.</span><span class="n">gauche</span><span class="p">()</span>
<span class="n">chemin</span><span class="o">.</span><span class="n">droite</span><span class="p">()</span>

<span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="n">chemin</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">direction</span><span class="p">)</span>

<span class="c1"># Affiche</span>
<span class="c1">#   droite</span>
<span class="c1">#   gauche</span>
<span class="c1">#   gauche</span>
<span class="c1">#   droite</span>
</pre></div>
</div>
</div>
<div class="section" id="les-generateurs">
<h2>Les générateurs<a class="headerlink" href="#les-generateurs" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les générateurs sont une catégorie particulière d’itérateurs. Un générateur
crée à la demande l’élément suivant de la séquence. Pour cela, le générateur
peut utiliser une formule mathématique pour calculer une suite ou bien il peut
utiliser une système externe comme une base de données pour extraire l’élément
suivant. L’intérêt d’un générateur est qu’il n’est pas nécessaire de construire
en mémoire la liste complète des éléments de la séquence. Les générateurs
ont donc une empreinte mémoire très faible ce qui permet d’écrire des
programmes optimisés.</p>
<p>Le générateur le plus couramment utilisé en Python est créé <em>via</em> la classe
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#range" title="(disponible dans Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50000</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>Dans l’exemple ci-dessus, la classe <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#range" title="(disponible dans Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> ne crée pas un tableau de 50 000
éléments. Elle crée un itérateur qui se contente de reproduire un suite mathématique
en ajoutant 1 à la valeur précédente.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#range" title="(disponible dans Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> est une amélioration notable de Python 3. En Python 2.x,
son implémentation créée effectivement une séquence en mémoire de toutes les
valeurs, ce qui est beaucoup moins performant.</p>
</div>
<p>Nous avons déjà présenté un exemple de générateur plus haut avec l’exemple de
la classe <code class="docutils literal notranslate"><span class="pre">Compteur</span></code> qui est en fait une implémentation très simplifiée
de <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#range" title="(disponible dans Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Compteur</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span>
</pre></div>
</div>
<p>La classe <code class="docutils literal notranslate"><span class="pre">Compteur</span></code> ne conserve en mémoire que l’attribut <code class="docutils literal notranslate"><span class="pre">nombre</span></code>, c’est-à-dire
la valeur courante. Cela lui permet de déduire la valeur suivante et de mettre
à jour cet attribut à chaque appel de <code class="docutils literal notranslate"><span class="pre">__next(self)__</span></code>.</p>
<p>Il est donc possible de créer des générateurs en utilisant le principe d’implémentation
des itérateurs. Cependant, Python fournit deux autres manières de créer des générateurs
qui sont beaucoup plus simples et donc beaucoup plus utiles dans les programmes.</p>
<div class="section" id="les-fonctions-generatrices-avec-yield">
<h3>Les fonctions génératrices avec <em>yield</em><a class="headerlink" href="#les-fonctions-generatrices-avec-yield" title="Lien permanent vers ce titre">¶</a></h3>
<p>Python dispose du mot-clé <a class="reference external" href="https://docs.python.org/3.6/reference/expressions.html#yieldexpr" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">yield</span></code></a>. Il permet de transformer une
fonction en générateur. <a class="reference external" href="https://docs.python.org/3.6/reference/expressions.html#yieldexpr" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">yield</span></code></a> retourne l’élément suivant du
générateur. Tout se passe comme si une instruction à <a class="reference external" href="https://docs.python.org/3.6/reference/expressions.html#yieldexpr" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">yield</span></code></a>
suspendait l’exécution de la fonction qui se continuera au passage à l’élément
suivant du générateur.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ma_fonction</span><span class="p">():</span>
    <span class="k">yield</span> <span class="s2">&quot;un&quot;</span>
    <span class="k">yield</span> <span class="s2">&quot;deux&quot;</span>
    <span class="k">yield</span> <span class="s2">&quot;trois&quot;</span>


<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ma_fonction</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Affiche</span>
<span class="c1">#   un</span>
<span class="c1">#   deux</span>
<span class="c1">#   trois</span>
</pre></div>
</div>
<p>Ainsi il est très facile d’implémenter la fonctionnalité identique à notre
classe <code class="docutils literal notranslate"><span class="pre">Compteur</span></code> mais cette fois-ci sous la forme d’une fonction génératrice :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compteur</span><span class="p">():</span>
    <span class="n">cpt</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">cpt</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">cpt</span>
        <span class="n">cpt</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">compteur</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Affiche les nombres de 1 à 10</span>
</pre></div>
</div>
<p>Une fonction génératrice est très souvent beaucoup plus simple à implémenter
et à comprendre qu’un itérateur tout en permettant d’arriver au même résultat.</p>
<p>Il est possible d’utiliser la syntaxe <a class="reference external" href="https://docs.python.org/3.6/reference/expressions.html#yieldexpr" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code></a> pour signaler
que l’on souhaite créer une fonction génératrice à partir d’un générateur. Ainsi
notre fonction génératrice <code class="docutils literal notranslate"><span class="pre">compteur()</span></code> peut simplement être implémentée à
partir de <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#range" title="(disponible dans Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compteur</span><span class="p">():</span>
    <span class="k">yield from</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="les-generateurs-en-comprehension">
<h3>Les générateurs en compréhension<a class="headerlink" href="#les-generateurs-en-comprehension" title="Lien permanent vers ce titre">¶</a></h3>
<p>Comme pour les listes en compréhension, il est possible de définir un générateur
en compréhension en utilisant des parenthèses plutôt que les crochets.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="c1"># Affiche: 0 1 4 9 16</span>
</pre></div>
</div>
<p>Même si la syntaxe est très proche, le mécanisme sous-jacent est très différent
de la liste en compréhension. Si vous prenez les exemples ci-dessous :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1001</span><span class="p">)]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1001</span><span class="p">))</span>
</pre></div>
</div>
<p>Le premier est une liste en compréhension qui crée donc une liste de 1000 éléments
en mémoire. Le second est un générateur en compréhension. Il s’agit donc d’une
fonction qui peut fournir à la demande la valeur de l’élément suivant de la séquence.
Il n’y a donc aucune liste en mémoire qui est créée.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Il n’est pas nécessaire d’écrire les parenthèses quand on passe le générateur
comme paramètre d’une fonction :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="les-fonctions-enumerate-map-zip-filter">
<h2>Les fonctions <em>enumerate</em>, <em>map</em>, <em>zip</em>, <em>filter</em><a class="headerlink" href="#les-fonctions-enumerate-map-zip-filter" title="Lien permanent vers ce titre">¶</a></h2>
<p>Parmi les fonctions de base en Python (appelées <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#built-in-funcs" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">builtins</span> <span class="pre">functions</span></code></a>),
il existe des fonctions qui produisent des itérateurs. Nous connaissons déjà
<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#range" title="(disponible dans Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">range()</span></code></a> (qui est en fait une classe en Python 3) : elle crée un
itérateur sur une suite de nombres. Mais il en existe quatre autres fonctions extrêmement
utiles.</p>
<dl>
<dt><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#enumerate" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a></dt><dd><p>produit un itérateur qui retourne un tuple contenant un compteur de l’itération
courante et la valeur obtenue à partir de l’itérateur passé en paramètre.
Le paramètre nommé <code class="docutils literal notranslate"><span class="pre">start</span></code> permet d’indiquer la valeur de départ du compteur
(par défaut 0) :</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Affichage des jours de la semaine avec leur numéro</span><a class="headerlink" href="#id1" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">la_semaine</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lundi&quot;</span><span class="p">,</span> <span class="s2">&quot;mardi&quot;</span><span class="p">,</span> <span class="s2">&quot;mercredi&quot;</span><span class="p">,</span> <span class="s2">&quot;jeudi&quot;</span><span class="p">,</span> <span class="s2">&quot;vendredi&quot;</span><span class="p">,</span> <span class="s2">&quot;samedi&quot;</span><span class="p">,</span> <span class="s2">&quot;dimanche&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">cpt</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">la_semaine</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">cpt</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

<span class="c1"># Affiche</span>
<span class="c1">#   1 lundi</span>
<span class="c1">#   2 mardi</span>
<span class="c1">#   3 mercredi</span>
<span class="c1">#   4 jeudi</span>
<span class="c1">#   5 vendredi</span>
<span class="c1">#   6 samedi</span>
<span class="c1">#   7 dimanche</span>
</pre></div>
</div>
</div>
</dd>
<dt><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#map" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">map()</span></code></a></dt><dd><p>produit un itérateur qui accepte une fonction pour produire une nouvelle
valeur à partir de la valeur obtenue par l’itérateur passé en second paramètre :</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Affichage des jours de la semaine en majuscules</span><a class="headerlink" href="#id2" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">la_semaine</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lundi&quot;</span><span class="p">,</span> <span class="s2">&quot;mardi&quot;</span><span class="p">,</span> <span class="s2">&quot;mercredi&quot;</span><span class="p">,</span> <span class="s2">&quot;jeudi&quot;</span><span class="p">,</span> <span class="s2">&quot;vendredi&quot;</span><span class="p">,</span> <span class="s2">&quot;samedi&quot;</span><span class="p">,</span> <span class="s2">&quot;dimanche&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">upper</span><span class="p">,</span> <span class="n">la_semaine</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="c1"># Affiche</span>
<span class="c1">#   LUNDI</span>
<span class="c1">#   MARDI</span>
<span class="c1">#   MERCREDI</span>
<span class="c1">#   JEUDI</span>
<span class="c1">#   VENDREDI</span>
<span class="c1">#   SAMEDI</span>
<span class="c1">#   DIMANCHE</span>
</pre></div>
</div>
</div>
<p>Cette fonction permet également de combiner les valeurs produites par plusieurs
itérateurs :</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Concaténation deux à deux des lettres de deux mots</span><a class="headerlink" href="#id3" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="s2">&quot;world&quot;</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="c1"># Affiche</span>
<span class="c1">#   hw</span>
<span class="c1">#   eo</span>
<span class="c1">#   lr</span>
<span class="c1">#   ll</span>
<span class="c1">#   od</span>
</pre></div>
</div>
</div>
</dd>
<dt><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#zip" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">zip()</span></code></a></dt><dd><p>produit un itérateur qui produit un tuple regroupant les valeurs de chacun
des itérateurs passés en paramètre. L’itération s’arrête lorsque l’un
des itérateurs se termine.</p>
</dd>
<dt><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#filter" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter()</span></code></a></dt><dd><p>produit un itérateur qui retourne la valeur de l’itérateur passé en second
paramètre que si la fonction passée en premier paramètre retourne
<a class="reference external" href="https://docs.python.org/3.6/library/constants.html#True" title="(disponible dans Python v3.6)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> pour cette valeur.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Affichage des jours de la semaine qui commence par un m</span><a class="headerlink" href="#id4" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">la_semaine</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lundi&quot;</span><span class="p">,</span> <span class="s2">&quot;mardi&quot;</span><span class="p">,</span> <span class="s2">&quot;mercredi&quot;</span><span class="p">,</span> <span class="s2">&quot;jeudi&quot;</span><span class="p">,</span> <span class="s2">&quot;vendredi&quot;</span><span class="p">,</span> <span class="s2">&quot;samedi&quot;</span><span class="p">,</span> <span class="s2">&quot;dimanche&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;m&quot;</span><span class="p">),</span> <span class="n">la_semaine</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="c1"># Affiche</span>
<span class="c1">#   mardi</span>
<span class="c1">#   mercredi</span>
</pre></div>
</div>
</div>
</dd>
</dl>
</div>
<div class="section" id="le-module-itertools">
<h2>Le module <em>itertools</em><a class="headerlink" href="#le-module-itertools" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le module <a class="reference external" href="https://docs.python.org/3.6/library/itertools.html#module-itertools" title="(disponible dans Python v3.6)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">itertools</span></code></a> fournit des fonctions très utiles pour créer des
générateurs. Par exemple, il est possible de créer un générateur infini (du
moins allant jusqu’à la plus grande valeur possible d’un entier) grâce à
<a class="reference external" href="https://docs.python.org/3.6/library/itertools.html#itertools.count" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">count()</span></code></a> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">itertools</span> <span class="kn">as</span> <span class="nn">it</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">it</span><span class="o">.</span><span class="n">count</span><span class="p">():</span>
    <span class="c1"># Attention l&#39;itération ne s&#39;arrête pas avant longtemps</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>Il est également possible de réaliser un produit cartésien entre plusieurs
générateurs grâce à la fonction <a class="reference external" href="https://docs.python.org/3.6/library/itertools.html#itertools.product" title="(disponible dans Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">product()</span></code></a> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">itertools</span> <span class="kn">as</span> <span class="nn">it</span>

<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">102</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># Affiche</span>
<span class="c1">#   0 100</span>
<span class="c1">#   0 101</span>
<span class="c1">#   1 100</span>
<span class="c1">#   1 101</span>
<span class="c1">#   2 100</span>
<span class="c1">#   2 101</span>
<span class="c1">#   3 100</span>
<span class="c1">#   3 101</span>
<span class="c1">#   4 100</span>
<span class="c1">#   4 101</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fichier.html" class="btn btn-neutral float-right" title="Gestion des fichiers" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dunder.html" class="btn btn-neutral float-left" title="Les méthodes spéciales (dunders)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Précédent</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright David Gayerie - support@boomerang-consulting.com - CC-BY-SA

    </p>
  </div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>